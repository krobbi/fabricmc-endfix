# Endfix
__v1.1.1__ for Minecraft Fabric __1.16.x__  
A Minecraft Fabric mod to fix the generation of end spikes (end pillars) and end
gateways. Endfix also makes end portals visible from below when installed on the
client.  
i.e: A fix for [MC-151399](https://bugs.mojang.com/browse/MC-151399) and
[MC-3366](https://bugs.mojang.com/browse/MC-3366).

The mod can be downloaded from the
[releases page](https://github.com/krobbi/fabricmc-endfix/releases).

Confirmed working in ```Minecraft 1.16.4```
with ```Fabric Loader 0.10.6+build.214-1.16.4```
and ```Fabric API 0.25.4+1.16```.

__Endfix will only have an effect when end spikes and end gateways are
generated, it won't fix existing end gateways, but it will move end spikes if
they are regenerated by respawning the ender dragon. Note that if the end spikes
move, misplaced obsidian will be left behind.__

It is recommended to keep Endfix installed as the end spike positions are stored
in a cache which is cleared when the server (or internal server) restarts or the
seed changes.

You are free to use Endfix in mod packs without permission.  
Enfix or any of its parts may not be used commercially in any way.  
There are currently no plans to make a Forge port of Endfix.  
Endfix will not be developed for snapshot versions of Minecraft.

The Fabric mod ID for Endfix is krobbiendfix.

NOT AN OFFICIAL MINECRAFT PRODUCT. NOT APPROVED BY OR ASSOCIATED WITH MOJANG.

# Why?
The generation of end spikes and end gateways in Minecraft is misaligned by up
to one or even two blocks since 1.14. This is simply unacceptable.

Actually it isn't really that bad. In fact, Mojang have confirmed that this bug
won't be fixed, which is why this is a mod. You probably won't need this unless
you want to build some geometrically perfect end base, or perfectly align the
destinations of your end gateways.

# How?
After finding the code responsible for generating end spikes and end gateways, I
created a general-purpose utility function to generate block positions in a ring
around the origin of a dimension. The most significant change in this is
changing the floor function to a round function, which removes this
misalignment.

# Where?
Here, as source code, and as a usable Minecraft Fabric mod on the
[releases page](https://github.com/krobbi/fabricmc-endfix/releases).

# License
Modified non-commercial MIT License -
https://krobbi.github.io/license/mnc-mit-2020.txt

---
Modified non-commercial MIT License

Copyright (c) 2020 Chris Roberts

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software non-commerically, including without limitation the rights to
use, copy, modify, merge, publish, distribute and/or sublicense copies of the
Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The Software may not be published or distributed in a standalone format without
modification or inclusion in other works, except by the authors or copyright
holders of the Software.

The Software, or any work containing the Software or any of its parts must not
be sublicensed or sold commercially, or otherwise distributed in a manner where
persons obtaining the Software may pay for it using currency with real-world
value.

License text for copies of the Software may not be replaced with the text of the
original MIT License. The Software may not be described as being licensed under
the MIT License without mentioning that the license has been modified.

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
